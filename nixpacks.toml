# nixpacks.toml â†’ FUNCIONA AL 100% CON ANGULAR + SPRING BOOT + MAVEN EN RAILWAY 2025
providers = ["java", "nodejs"]

[phases.setup]
nixPkgs = ["openjdk-21", "nodejs-20", "maven"]

[phases.install]
cmds = ["npm ci"]

[phases.build]
cmds = [
  "npm run build -- --configuration production",
  "cd backend && ./mvnw clean package -DskipTests"
]

[start]
cmd = "java -jar backend/target/*.jar --server.port=$PORT"
