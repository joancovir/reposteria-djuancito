# nixpacks.toml - Configuración oficial Railway 2025 para Angular
providers = ["nodejs"]  # Fuerza detección de Node.js

[phases.setup]
nixPkgs = ["nodejs-20"]  # Node 20 para Angular 20 (evita error de versión)

[phases.install]
cmds = ["npm ci"]  # Instala dependencias

[phases.build]
cmds = ["npm run build -- --configuration production"]  # Build Angular

[start]
cmd = "npx serve -s dist/angular-temp -l $PORT"  # Sirve el frontend en puerto de Railway
