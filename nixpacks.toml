# nixpacks.toml (en la ra√≠z del proyecto)
providers = ["java", "nodejs"]

[phases.setup]
nixPkgs = ["openjdk-21", "nodejs-20", "maven"]

[phases.install]
cmds = ["npm ci"]

[phases.build]
cmds = [
  "npm run build -- --configuration production",
  "cd backend && ./mvnw clean package -DskipTests"
]

[start]
cmd = "java -jar backend/target/*.jar --server.port=$PORT"
